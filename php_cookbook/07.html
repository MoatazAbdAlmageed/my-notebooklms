<!DOCTYPE html>
<html data-bs-theme="dark" lang="en" dir="ltr">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <link rel="stylesheet" href="../style.css">
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-12">



                <p>يا معلم، طلبك على راسي! الفصل السابع في كتاب الـ PHP بيتكلم عن حاجة مهمة أوي اسمها <strong>cURL
                        Get/Post Example</strong>.</p>
                <p>ببساطة كده، الفصل ده بيشرح إزاي تخلي سكريبت الـ PHP بتاعك يقدر يبعت طلبات (Requests) لمواقع أو خدمات
                    تانية على الإنترنت ويستقبل منها ردود، بالظبط كأن السكريبت بتاعك هو متصفح (Browser).</p>
                <p>ركز معايا عشان نشرح الموضوع بالتفصيل الممل والأمثلة، وإيه أهمية إنك تستخدم cURL ده بدل الطرق العادية:
                </p>
                <hr>
                <h2 id="-curl-get-post-">الفصل السابع: مثال طلبات cURL (GET/POST)</h2>
                <p>الـ cURL دي مكتبة قوية جدًا، كانت في الأساس بتستخدم لتحميل الموارد من الإنترنت على أنظمة زي لينكس،
                    ودلوقتي بنستخدمها في PHP عشان نعمل اتصال ونتبادل البيانات مع أي سيرفر تاني.</p>
                <h3 id="7-1-">7.1 تجهيز البيئة (تحضير العدة)</h3>
                <p>عشان cURL يشتغل معاك، لازم تظبط شوية حاجات في البيئة بتاعتك:</p>
                <ol>
                    <li><strong>التثبيت (Installation):</strong> لو بتشتغل على نظام زي أوبونتو، لازم تثبت مكتبة الـ PHP
                        cURL عن طريق الأمر ده: <code>sudo apt-get install php5-curl</code>.</li>
                    <li><strong>إعدادات PHP:</strong> لازم تفتح ملف الإعدادات بتاع PHP اللي هو <code>php.ini</code>
                        وتتأكد إن إضافة cURL متفعلة عن طريق السطر ده: <code>extension=php_curl.so</code>.</li>
                    <li><strong>إعادة تشغيل:</strong> طبعًا، بعد أي تغيير في الإعدادات، لازم تعمل إعادة تشغيل للأباتشي
                        (Apache) عشان التغييرات تتفعل.</li>
                </ol>
                <hr>
                <h3 id="7-2-get-">7.2 طلبات GET (عشان تستقبل بيانات)</h3>
                <p>طلبات الـ GET هي أبسط نوع، وبتستخدم عشان تجيب بيانات من سيرفر تاني (زي لما بتفتح صفحة ويب عادية).</p>
                <p><strong>الخطوات الأساسية اللي لازم تعملها في سكريبت الـ PHP عشان تعمل طلب GET هي:</strong></p>
                <ol>
                    <li><strong>فتح الجلسة (Initialization):</strong> لازم تفتح قناة اتصال جديدة باستخدام الدالة
                        <code>curl_init()</code>. لو حصل خطأ في فتح الجلسة، الدالة بترجع <code>false</code> ولازم تتأكد
                        إن الجلسة اتفتحت بنجاح.
                    </li>
                    <li>
                        <p><strong>تحديد الإعدادات (Configuration):</strong> بتستخدم الدالة
                            <code>curl_setopt_array()</code> عشان تدي تعليمات للـ cURL إيه اللي المفروض يعمله بالظبط.
                            أهم الإعدادات هنا هي:
                        </p>
                        <ul>
                            <li><strong>العنوان (URL):</strong> بتحدد عنوان الويب بالكامل اللي عايز تكلمه، بما في ذلك كل
                                المتغيرات (Parameters) اللي بتبعتها معاه في هيئة <code>key=value</code>. ومن المهم جدًا
                                إنك تستخدم الدالة <code>urlencode()</code> عشان تتأكد إن قيم المتغيرات دي متكودة صح للـ
                                URL.</li>
                            <li><strong>تتبع التحويلات (Follow Location):</strong> بتخلي
                                <code>CURLOPT_FOLLOWLOCATION</code> بـ <code>true</code>. دي معناها إن لو الموقع اللي
                                بتكلمه حولك على صفحة تانية (Redirection)، الـ cURL يتبعه لحد ما يوصل للصفحة النهائية.
                            </li>
                            <li><strong>استقبال الرد (Return Transfer):</strong> بتخلي
                                <code>CURLOPT_RETURNTRANSFER</code> بـ <code>true</code>. وده أهم جزء، عشان الرد اللي
                                هيجيلك من السيرفر يتخزن في متغير تقدر تستخدمه، بدل ما يتطبع على الشاشة مباشرة.
                            </li>
                        </ul>
                    </li>
                    <li>
                        <p><strong>التنفيذ (Execution):</strong> بعد ما تظبط الإعدادات، بتنفذ الطلب عن طريق الدالة
                            <code>curl_exec()</code>.
                        </p>
                    </li>
                    <li>
                        <p><strong>إغلاق الجلسة (Closing):</strong> بعد ما تخلص شغل، لازم تقفل الجلسة بالدالة
                            <code>curl_close()</code> عشان توفر موارد السيرفر.
                        </p>
                    </li>
                </ol>
                <blockquote>
                    <p><strong>مثال بسيط (بالهجة المصرية):</strong></p>
                    <p>تخيل إنك بتبعت &quot;رسالة استفسار&quot; (طلب GET) لمحل عشان تسأل عن سعر منتج معين.</p>
                    <ul>
                        <li><code>curl_init()</code>: بتطلب خط تليفون للمحل.</li>
                        <li><code>CURLOPT_URL</code>: بتقول للموظف &quot;أنا عايز المنتج الفلاني (Product ID)&quot;.
                        </li>
                        <li><code>curl_exec()</code>: بتستنى الرد من الموظف اللي بيقولك &quot;سعره كذا&quot;.</li>
                        <li><code>curl_close()</code>: بتقفل السكة.</li>
                    </ul>
                </blockquote>
                <hr>
                <h3 id="7-3-post-">7.3 طلبات POST (عشان تبعت بيانات)</h3>
                <p>طلبات الـ POST بتستخدم لما تكون عايز تبعت بيانات كبيرة أو حساسة للسيرفر (زي تسجيل الدخول أو إرسال
                    فورم)، مش مجرد استفسار زي GET.</p>
                <p>العملية هنا شبه GET بالظبط، بس فيه اختلافين رئيسيين في مرحلة الإعدادات:</p>
                <ol>
                    <li><strong>تحديد نوع الطلب:</strong> لازم تحدد إنك بتعمل طلب POST عن طريق وضع الإعداد
                        <code>CURLOPT_POST</code> بـ <code>true</code>.
                    </li>
                    <li><strong>إرسال البيانات:</strong> البيانات اللي عايز تبعتها (المتغيرات) مش بتتحط في الـ URL. بدل
                        كده، بتتحط في إعداد منفصل اسمه <code>CURLOPT_POSTFIELDS</code>.</li>
                </ol>
                <hr>
                <h3 id="7-4-class-">7.4 تنظيم العمل في فئة (Class)</h3>
                <p>الكتاب بيأكد على نقطة مهمة جدًا وهي إنك لما تستخدم cURL في مشروع كبير، الأحسن إنك متستخدمش الدالة
                    <code>curl_init()</code> و <code>curl_setopt()</code> و <code>curl_exec()</code> بشكل مباشر كل مرة.
                </p>
                <p><strong>الصح إنك تعمل Class (فئة) خاصة للـ cURL، زي ما هو موضح في الفصل، وده عشان كذا سبب:</strong>
                </p>
                <ol>
                    <li><strong>كود أنظف وأسهل في القراءة:</strong> لما تحط كل العمليات دي جوه Class، الكود بتاعك بيبقى
                        منظم أكتر وأسهل في المتابعة والصيانة.</li>
                    <li><strong>إعادة استخدام الجلسة (Session Reuse):</strong> الميزة الأهم هي إن الـ Class بتسمحلك
                        تستخدم نفس جلسة الـ cURL اللي فتحتها أكتر من مرة، وده بيحسن الأداء بشكل كبير.<ul>
                            <li>عشان تعيد استخدام جلسة cURL لنوع طلب مختلف (مثلًا من GET لـ POST)، لازم تنظف الإعدادات
                                القديمة أولًا باستخدام الدالة <code>curl_reset()</code> قبل ما تضيف الإعدادات الجديدة.
                            </li>
                        </ul>
                    </li>
                </ol>
                <blockquote>
                    <p><strong>مثال على إعادة استخدام الجلسة:</strong></p>
                    <p>تخيل إنك بتفتح خط تليفون مع شركة توصيل.</p>
                    <ul>
                        <li>المرة الأولى: بتطلب تعرف &quot;وصلتوا فين في طلبي الأول؟&quot; (طلب GET).</li>
                        <li><code>$curl-&gt;configure(GET)</code>.</li>
                        <li>المرة الثانية (على نفس الخط): بتطلب &quot;غيروا لي عنوان طلبي التاني&quot; (طلب POST).</li>
                        <li><code>$curl-&gt;configure(POST)</code> (بيستخدم <code>curl_reset()</code> عشان يمسح طلب GET
                            القديم).</li>
                    </ul>
                    <p>كده أنت وفرت الوقت بتاع إنك تطلب خط جديد لكل مكالمة، وده بيخلي الأداء أسرع.</p>
                </blockquote>
                <hr>
                <h3 id="-">ملخص الفصل (الزتونة)</h3>
                <p>الفصل السابع بيوريك إزاي تستخدم مكتبة cURL القوية في PHP عشان تبعت طلبات GET و POST. طلبات GET بتكون
                    إعداداتها مختلفة شوية عن POST (خصوصًا في طريقة إرسال المتغيرات). والأهم من كل ده، إنك لازم تبرمج الـ
                    cURL جوه Class عشان تخلي الكود بتاعك منظم وكمان عشان تستفيد من ميزة <strong>إعادة استخدام الجلسات
                        المفتوحة</strong>، اللي بتخلي أداء السكريبتات بتاعتك أحسن وأسرع.</p>





            </div>
        </div>

    </div>


    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" //
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+Y2XIdI6kB1jRVVbR4D9M1zYjFq2D" //
        crossorigin="anonymous"></script>

    <script src="../script.js"> </script>


</body>

</html>