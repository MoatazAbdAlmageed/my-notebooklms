<!DOCTYPE html>
<html data-bs-theme="dark" lang="ar" dir="rtl">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>?</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <link rel="stylesheet" href="../style.css">
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-12">



                <div id="md-render"></div>

                <div id="md-source" style="display:none;">
                    أهلاً بك يا فندم! بما إن الفصل الأول ده هو المدخل لكل سكريبتات الـ Bash، فاحنا محتاجين نشرحه
                    بالتفصيل كأننا قاعدين على قهوة وبتدردش في أساسيات الكمبيوتر اللي بتشتغل عليه.

                    الكتاب بيسمي الفصل ده **"Bash and Bash scripts"** (باش وسكريبتات باش).

                    ---

                    ### شرح الفصل الأول (بلهجة مصرية مفصلة)

                    الفصل الأول ده بيركز على 5 مواضيع رئيسية: أنواع الـ Shell، ومميزات Bash، إزاي الكمبيوتر بينفذ
                    الأوامر، المكونات الأساسية للـ Shell، والقواعد اللي تخليك تعمل سكريبت كويس.

                    #### 1. برامج الشِل المُنتشرة (Common Shell Programs)

                    **إيه هو الشل؟** الشل (Shell) ده هو المترجم اللي بيقف بينك وبين نواة نظام التشغيل (Kernel). شغلته
                    إنه يفسر الأوامر اللي بتديها له.

                    **الميزة الأساسية:** الأوامر اللي بتديها للشل، سواء كتبتها مباشرة أو كانت مكتوبة في ملف اسمه "شِل
                    سكريبت" (Shell Script)، كلها أوامر **مُفَسَّرة (Interpreted)**، يعني الشل بيقراها سطر سطر وينفذها.
                    دي مش زي برامج C اللي بتتحول لملف تنفيذي (Compiled).

                    **أنواع الشل المشهورة على أنظمة يونكس ولينكس:**

                    1. **`sh` (Bourne Shell):** ده الشل الأصلي (Original Shell). لسه موجود على كل أنظمة لينكس عشان يضمن
                    التوافق مع البرامج القديمة.
                    2. **`bash` (Bourne Again Shell):** ده الشل القياسي بتاع مشروع GNU.
                    * هو **"Superset"** للـ sh، يعني أي حاجة بتشتغل في sh بتشتغل في bash، لكن مش العكس.
                    * هو الأفضل للمبتدئين والمحترفين عشان مرونته وقوته.
                    3. **`csh` (C Shell) و `tcsh` (TENEX C Shell):** الشل ده طريقة كتابته بتشبه لغة البرمجة C.
                    4. **`ksh` (Korn Shell):** برضه يعتبر Superset للـ sh، وناس كتير بتفضله لو كانت خبرتها قديمة في
                    يونكس.

                    > **ملحوظة:** الشل الافتراضي بتاعك بيتحدد في ملف `/etc/passwd`، وممكن تغير الشل عن طريق كتابة اسمه
                    في الترمينال الحالي.

                    ---

                    #### 2. مميزات Bourne Again SHell (Bash)

                    Bash هو الشل القياسي (GNU Shell) اللي تم تصميمه عشان يكون متوافق مع معايير POSIX. أهم الميزات اللي
                    مش هتلاقيها في الـ sh التقليدي هي:

                    * **ميزات تفاعلية ممتازة:** زي تعديل سطر الأوامر (command line editing).
                    * **تاريخ أوامر (History) مفتوح:** ممكن يسجل أوامر بحجم غير محدود.
                    * **وظائف برمجية متقدمة:** بيدعم دوال الشل (Shell Functions)، والاختصارات (Aliases)، والمصفوفات
                    (Indexed arrays) غير المحدودة.
                    * **ملفات التهيئة (Startup Files):** Bash بيقرا ملفات معينة لما يشتغل، وده بيعتمد على طريقة تشغيله:
                    * **لما بتسجل دخول (Login Shell):** بيقرا إعدادات عامة من `/etc/profile`، وبعدين بيدور على أول ملف
                    يلاقي فيه إعدادات شخصية من دول: `~/.bash_profile`، أو `~/.bash_login`، أو `~/.profile`.
                    * **لما بتفتح ترمينال عادي (Non-Login Shell):** بيقرا ملف `~/.bashrc`.
                    * **وضع الحماية (Restricted Shell):** لو شغلت Bash باسم `rbash`، بيتم تعطيل أو تقييد أوامر معينة زي
                    `cd` أو تغيير متغيرات البيئة زي `PATH`.

                    ---

                    #### 3. تنفيذ الأوامر (Executing Commands)

                    إزاي الشل بينفذ الأوامر اللي بتديها له؟ فيه آليتين:

                    1. **للبرامج العادية (External Commands):** بيستخدم آليه اسمها **"Fork-and-Exec"**:
                    * **Forking:** بيعمل نسخة طبق الأصل من نفسه (عملية ابن/Child Process). العملية الجديدة دي بيكون
                    عندها نفس البيئة لكن برقم ID مختلف.
                    * **Exec:** بيتم استبدال البرنامج القديم بالبرنامج الجديد المطلوب تنفيذه في مساحة الذاكرة الخاصة
                    بالعملية الابن.
                    2. **للأوامر المُضمَّنة (Shell Built-in Commands):** دي أوامر بتكون **موجودة جوه الشل نفسه** (زي
                    `echo`, `cd`, `exit`). الشل بينفذها مباشرة **بدون إنشاء عملية جديدة** (No new process is created).
                    * **أهميتها:** الأوامر دي ضرورية لتنفيذ وظائف مينفعش نعملها بأي طريقة تانية. (الكتاب بيقسمها لـ 3
                    أنواع: Bourne Shell built-ins, Bash built-in commands, Special built-in commands).
                    3. **تنفيذ سكريبتات الشل:** لما بتشغل سكريبت، باش بيعمل عملية جديدة (Subshell). الـ Subshell ده
                    بيقرا السكريبت سطر بسطر وينفذ الأوامر. الشل الأصلي (الأب) بيستنى لحد ما الـ Subshell يخلص شغله.

                    ---

                    #### 4. المكونات الأساسية (Building Blocks)

                    قبل تنفيذ أي أمر، الشل بيمر بعدة خطوات تحليلية مهمة:

                    1. **القراءة:** بيقرا المدخلات (من ملف، أو سطر الأوامر).
                    2. **التقسيم والـ Aliases:** بيقسم المدخلات لكلمات (Tokens) وبيطبق قواعد الاقتباس (Quoting)، وبيعمل
                    توسيع للاختصارات (Alias expansion).
                    3. **التحليل (Parsing):** بيحلل الكلمات دي لأوامر بسيطة ومركبة.
                    4. **التوسيع (Expansion):** بينفذ أنواع مختلفة من التوسيع، زي تمديد المتغيرات (Parameter expansion)
                    واستبدال الأوامر (Command substitution).
                    5. **إعادة التوجيه (Redirection):** بيتم تنفيذ أي عمليات إعادة توجيه ضرورية، وبيتم إزالة عوامل إعادة
                    التوجيه من قائمة الحجج.
                    6. **التنفيذ:** بيتم تنفيذ الأوامر.

                    **أهم مكونات البناء:**

                    * **دوال الشل (Shell Functions):** هي مجموعة من الأوامر بتتجمع تحت اسم واحد. الميزة الأهم إنها
                    بتتنفذ **في سياق الشل الحالي**، يعني مبيتعملش عملية جديدة عشان تفسرها.
                    * **معاملات الشل (Shell Parameters):** هي كيانات بتخزن قيم، وأهمها المتغيرات (Variables).

                    ---

                    #### 5. تطوير سكريبتات جيدة (Developing Good Scripts)

                    الجزء ده بيوريك إزاي تعمل سكريبت "نظيف" ومفيد:

                    **صفات السكريبت الكويس:**
                    1. لازم يشتغل **من غير أخطاء**.
                    2. لازم **ينفذ المهمة** اللي اتعمل عشانها.
                    3. لازم يكون **منطقه واضح** وسهل الفهم (Program logic is clearly defined).
                    4. ميعملش **شغل ملوش لازمة**.
                    5. لازم يكون **قابل لإعادة الاستخدام** (Reusable).

                    **هيكل السكريبت (Structure):** قبل ما تبدأ تكتب كود، لازم تخطط للمنطق بتاع البرنامج. ابدأ بكتابة
                    قائمة بالمهام اللي المفروض السكريبت يعملها بلغتك العادية، وبعد كده حولها لأوامر شل.

                    **مثال لسكريبت بسيط: `mysystem.sh`**

                    السكريبت ده بيجمع معلومات عن المستخدم والنظام ويعرضها.

                    ```bash
                    #!/bin/bash
                    clear
                    echo "This is information provided by mysystem.sh. Program starts now."
                    echo "Hello, $USER"
                    echo "Today's date is `date`, this is week `date +"%V"`."
                    # ... أوامر أخرى ...
                    ```

                    **شرح المثال:**

                    * **`#!/bin/bash` (Shebang):** السطر ده لازم يكون أول سطر في السكريبت، وبيحدد الشل اللي هيشغل
                    الأوامر اللي بعده.
                    * **`clear`:** بيمسح الشاشة.
                    * **`echo` / `printf`:** دول أوامر مدمجة (Built-in commands) وظيفتهم عرض الرسائل للمستخدم. `echo`
                    بيعرض الرسالة وينهي بسطر جديد، أما `printf` فبيديك تحكم أدق في التنسيق.
                    * **التعليقات (Comments):** أي حاجة بعد علامة الـ `#` في السطر الشل بيعملها تجاهل، ودي مهمة جداً
                    عشان توضح إيه اللي بيحصل في الكود.

                    > **نصيحة مهمة:** لما بتعمل سكريبتات بتشتغل في خلفية النظام (زي init scripts) لازم تحدد الـ Bash في
                    المسار الصحيح (عادةً `/bin/bash`) عشان تتأكد إنها هتشتغل صح في كل البيئات.
                </div>




            </div>
        </div>

    </div>


    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" //
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+Y2XIdI6kB1jRVVbR4D9M1zYjFq2D" //
        crossorigin="anonymous"></script>

    <script src="../script.js"> </script>


</body>

</html>